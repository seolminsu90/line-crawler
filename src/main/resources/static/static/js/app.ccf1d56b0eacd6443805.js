webpackJsonp([1],{"7p7Q":function(t,e){},"8ad6":function(t,e){},"9Wmi":function(t,e){},IEhL:function(t,e){},JNdT:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("section",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var r=i("VU/8")({name:"App"},a,!1,function(t){i("8ad6")},null,null).exports,s=i("/ocq"),o={name:"Login",data:function(){return{user:{id:"",pwd:""}}},methods:{login:function(){var t=this;this.$axios.post("/api/users/login",this.user).then(function(e){var i=e.data;if("0000"!=i.code)return"0100"==i.code?alert("아이디 또는 비밀번호가 일치하지 않습니다."):alert("오류");t.$store.commit("loginAfter",i.data.token),t.navigate("/list")}).catch(function(t){if(console.log(t.response),400==t.response.status)return alert("아이디와 패스워드 형식이 맞지 않습니다. \n'이메일형식 8~30자'")})}}},c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{attrs:{id:"login"}},[i("section",{attrs:{id:"loginWrap"}},[i("h2",[t._v("LINE SQUARE")]),t._v(" "),i("div",[i("p",[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.user.id,expression:"user.id",modifiers:{trim:!0}}],attrs:{placeholder:"이메일",maxlength:"30",id:"id",type:"text"},domProps:{value:t.user.id},on:{input:function(e){e.target.composing||t.$set(t.user,"id",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),i("p",[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.user.pwd,expression:"user.pwd",modifiers:{trim:!0}}],attrs:{placeholder:"비밀번호",maxlength:"30",id:"pwd",type:"password"},domProps:{value:t.user.pwd},on:{input:function(e){e.target.composing||t.$set(t.user,"pwd",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),i("button",{attrs:{type:"button"},on:{click:t.login}},[t._v("로그인")]),t._v(" "),i("div",{staticClass:"otherAction"},[i("span",{on:{click:function(e){return t.navigate("/signin")}}},[t._v("회원가입")]),t._v(" "),i("span",{on:{click:function(e){return t.navigate("/findpwd")}}},[t._v("비밀번호 찾기")])])])])])},staticRenderFns:[]};var l=i("VU/8")(o,c,!1,function(t){i("JNdT")},"data-v-49868b70",null).exports,u={name:"Signin",data:function(){return{user:{id:"",pwd:"",pwdRe:""},userReset:{id:"",pwd:"",pwdRe:""}}},methods:{signin:function(){var t=this;if(this.user.pwd!==this.user.pwdRe)return alert("비밀번호 확인이 일치하지 않습니다.");this.$axios.post("/api/users/signin",this.user).then(function(e){var i=e.data;if("0000"!=i.code)return"0103"==i.code?(t.user=t.userReset,alert("아이디 또는 비밀번호 값 오류")):"0101"==i.code?(t.user=t.userReset,alert("이미 가입된 아이디입니다.")):alert("오류");alert("이제 서비스를 이용할 수 있습니다."),t.navigate("/")}).catch(function(t){if(console.log(t.response),400==t.response.status)return alert("아이디와 패스워드 형식이 맞지 않습니다. \n'이메일형식 8~30자'")})}}},p={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{attrs:{id:"login"}},[i("section",{attrs:{id:"loginWrap"}},[i("h2",[t._v("LINE SQUARE")]),t._v(" "),i("div",[i("p",[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.user.id,expression:"user.id",modifiers:{trim:!0}}],attrs:{placeholder:"이메일 (8자 이상)",maxlength:"30",id:"id",type:"text"},domProps:{value:t.user.id},on:{input:function(e){e.target.composing||t.$set(t.user,"id",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),i("p",[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.user.pwd,expression:"user.pwd",modifiers:{trim:!0}}],attrs:{placeholder:"비밀번호 (8자 이상)",maxlength:"30",id:"pwd",type:"password"},domProps:{value:t.user.pwd},on:{input:function(e){e.target.composing||t.$set(t.user,"pwd",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),i("p",[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.user.pwdRe,expression:"user.pwdRe",modifiers:{trim:!0}}],attrs:{placeholder:"비밀번호 재확인 (8자 이상)",maxlength:"30",id:"pwdRe",type:"password"},domProps:{value:t.user.pwdRe},on:{input:function(e){e.target.composing||t.$set(t.user,"pwdRe",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),i("button",{attrs:{type:"button"},on:{click:t.signin}},[t._v("회원 가입")]),t._v(" "),i("div",{staticClass:"otherAction"},[i("span",{on:{click:function(e){return t.navigate("/")}}},[t._v("취소")])])])])])},staticRenderFns:[]};var d=i("VU/8")(u,p,!1,function(t){i("yDzC")},"data-v-6d9d24fd",null).exports,v={name:"pwdNew",data:function(){return{user:{pwd:"",pwdNew:"",pwdRe:""},userReset:{pwd:"",pwdNew:"",pwdRe:""}}},methods:{update:function(){var t=this;if(this.user.pwdNew!==this.user.pwdRe)return alert("비밀번호 확인이 일치하지 않습니다.");this.$axios.put("/api/users",this.user,{headers:{Authorization:"Bearer "+this.$store.state.token}}).then(function(e){var i=e.data;if("0000"!=i.code)return"0102"==i.code?(t.user=t.userReset,alert("기존 패스워드가 일치하지 않습니다.")):(t.user=t.userReset,alert("오류"));alert("비밀번호가 수정되었습니다."),t.navigate("/")}).catch(function(t){if(console.log(t.response),400==t.response.status)return alert("아이디와 패스워드 형식이 맞지 않습니다. \n'이메일형식 8~30자'")})}}},m={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{attrs:{id:"login"}},[i("section",{attrs:{id:"loginWrap"}},[i("h2",[t._v("LINE SQUARE")]),t._v(" "),i("div",[i("p",[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.user.pwd,expression:"user.pwd",modifiers:{trim:!0}}],attrs:{placeholder:"현재 비밀번호 (8자 이상)",maxlength:"30",id:"pwd",type:"password"},domProps:{value:t.user.pwd},on:{input:function(e){e.target.composing||t.$set(t.user,"pwd",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),i("p",[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.user.pwdNew,expression:"user.pwdNew",modifiers:{trim:!0}}],attrs:{placeholder:"새로운 비밀번호 (8자 이상)",maxlength:"30",id:"pwdNew",type:"password"},domProps:{value:t.user.pwdNew},on:{input:function(e){e.target.composing||t.$set(t.user,"pwdNew",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),i("p",[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.user.pwdRe,expression:"user.pwdRe",modifiers:{trim:!0}}],attrs:{placeholder:"새로운 비밀번호 재입력 (8자 이상)",maxlength:"30",id:"pwdRe",type:"password"},domProps:{value:t.user.pwdRe},on:{input:function(e){e.target.composing||t.$set(t.user,"pwdRe",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),i("button",{attrs:{type:"button"},on:{click:t.update}},[t._v("비밀번호 변경")]),t._v(" "),i("div",{staticClass:"otherAction"},[i("span",{on:{click:function(e){return t.navigate("/list")}}},[t._v("취소")])])])])])},staticRenderFns:[]};var g=i("VU/8")(v,m,!1,function(t){i("IEhL")},"data-v-dbfa2010",null).exports,f={name:"Fndpwd",data:function(){return{waiting:!1,user:{id:""}}},methods:{findPwd:function(){var t=this;if(""==this.user.id||void 0==this.user.id)return alert("메일을 입력하세요.");t.waiting=!0,this.$axios.post("/api/users/send-temp-pwd",this.user).then(function(e){t.waiting=!1;var i=e.data;return"0000"==i.code?alert("메일이 발송되었습니다. 메일함을 확인해 주세요."):"0104"==i.code?alert("없는 유저입니다."):alert("오류")}).catch(function(e){if(t.waiting=!1,400==e.response.status)return alert("아이디와 패스워드 형식이 맞지 않습니다. \n'이메일형식 8~30자'")})}}},h={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{attrs:{id:"login"}},[i("section",{attrs:{id:"loginWrap"}},[i("h2",[t._v("LINE SQUARE")]),t._v(" "),i("div",[i("p",[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.user.id,expression:"user.id",modifiers:{trim:!0}}],attrs:{placeholder:"가입했던 이메일을 입력하세요",maxlength:"30",id:"id",type:"text"},domProps:{value:t.user.id},on:{input:function(e){e.target.composing||t.$set(t.user,"id",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),t.waiting?i("button",{staticClass:"disable",attrs:{type:"button"}},[t._v("메일을 보내는 중...")]):i("button",{attrs:{type:"button"},on:{click:t.findPwd}},[t._v("임시 비밀번호 보내기")]),t._v(" "),i("div",{staticClass:"otherAction"},[i("span",{on:{click:function(e){return t.navigate("/")}}},[t._v("취소")])])])])])},staticRenderFns:[]};var _=i("VU/8")(f,h,!1,function(t){i("uuzt")},"data-v-775e4e40",null).exports,w={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",[e("h1",{attrs:{title:"logo"}},[this._v("LINE SQUARE COMMUNITY")])])}]};var b=i("VU/8")({name:"main-header"},w,!1,function(t){i("i9iw")},"data-v-409061ed",null).exports,k=i("kBYy"),x={name:"List",mounted:function(){console.log("로그인 권한 체크를 해야한다"),this.getArticleList()},components:{"main-header":b,paginate:i.n(k).a},data:function(){return{articleDetailView:!1,article:{idx:0,articleId:"",bbsGroupId:"",bbsId:"",commentCnt:0,content:"",gameName:"",likeCnt:0,regDate:"",title:"",unlikeCnt:0,viewCnt:0,writer:""},articleInit:{idx:0,articleId:"",bbsGroupId:"",bbsId:"",commentCnt:0,content:"",gameName:"",likeCnt:0,regDate:"",title:"",unlikeCnt:0,viewCnt:0,writer:""},articleList:[],pageable:{offset:0,pageNumber:0,pageSize:10,paged:!0,sort:"",totalCnt:0,totalPage:0},crawlLock:!1,updateLock:!1}},methods:{viewDetail:function(t){window.scrollTo(0,0),this.articleDetailView=!0,this.article=this.articleList[t]},closeDetail:function(){this.articleDetailView=!1,this.article=this.articleInit},pageMove:function(t){this.getArticleList(t)},getNewArticles:function(){var t=this;t.crawlLock=!0,this.$axios.post("/api/articles/crawl",{},{headers:{Authorization:"Bearer "+t.$store.state.token}}).then(function(e){if(t.crawlLock=!1,"0000"==e.data.code)return console.log("새 게시글 크롤링 성공"),t.getArticleList(),alert("새 게시글을 크롤링하는데 성공하였습니다.");alert("권한이 없습니다."),t.navigate("/")}).catch(function(e){return console.log(e),t.crawlLock=!1,alert("오류")})},updateArticles:function(){var t=this;t.updateLock=!0;var e=[];t.articleList.forEach(function(t){e.push(t.articleId)}),this.$axios.post("/api/articles/update",{articleIds:e},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.$store.state.token}}).then(function(e){t.updateLock=!1;var i=e.data;if("0000"==i.code)return console.log("업데이트 성공"),t.articleList=i.list,alert("보이는 목록만 새로 크롤링하여 업데이트 하였습니다.");alert("권한이 없습니다."),t.navigate("/")}).catch(function(e){return console.log(e),t.updateLock=!1,alert("오류")})},getArticleList:function(t){var e="/api/articles";void 0!=t&&(e+="?page="+t);var i=this;this.$axios.get(e,{headers:{Authorization:"Bearer "+i.$store.state.token}}).then(function(t){var e=t.data;if("0000"==e.code){console.log("조회 성공"),i.articleList=e.pagingList.content;var n=e.pagingList.pageable;n.pageNumber=n.pageNumber+1,n.totalCnt=e.pagingList.totalElements,n.totalPage=e.pagingList.totalPages,i.pageable=n}else alert("권한이 없습니다."),i.navigate("/")})}}},$={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{attrs:{id:"article"}},[i("main-header"),t._v(" "),i("nav",[t.crawlLock?t._e():i("p",[i("button",{attrs:{type:"button",title:"신규 게시글을 수동으로 크롤링 하여 가져옵니다."},on:{click:t.getNewArticles}},[t._v("새글가져오기")])]),t._v(" "),t.crawlLock?i("p",[i("button",{staticClass:"disable",attrs:{type:"button"}},[t._v("가져오는 중..")])]):t._e(),t._v(" "),t.updateLock?t._e():i("p",[i("button",{attrs:{type:"button",title:"화면에 표시된 게시글 목록을 크롤링 하여 업데이트 합니다."},on:{click:t.updateArticles}},[t._v("목록업데이트")])]),t._v(" "),t.updateLock?i("p",[i("button",{staticClass:"disable",attrs:{type:"button"}},[t._v("업데이트 중..")])]):t._e(),t._v(" "),i("p",[i("button",{attrs:{type:"button",title:"비밀번호변경"},on:{click:function(e){return t.navigate("/newpwd")}}},[t._v("비밀번호변경")])]),t._v(" "),i("p",[i("button",{attrs:{type:"button",title:"로그아웃"},on:{click:t.logOut}},[t._v("로그아웃")])]),t._v(" "),i("p",[i("button",{attrs:{type:"button",title:"탈퇴하기"},on:{click:t.deleteUser}},[t._v("탈퇴하기")])])]),t._v(" "),i("section",{attrs:{id:"articleList"}},[t.articleDetailView?t._e():i("ul",[t._l(t.articleList,function(e,n){return i("li",{staticClass:"article",on:{click:function(e){return t.viewDetail(n)}}},[i("p",[t._v("\n          [ "),i("span",{staticClass:"gameName"},[t._v(t._s(e.gameName))]),t._v(" ] "),i("span",{staticClass:"title"},[t._v(t._s(e.title))])]),t._v(" "),i("p",[i("span",{staticClass:"writer"},[t._v(t._s(e.writer))])]),t._v(" "),i("p",{staticClass:"regDate"},[t._v(t._s(t._f("moment")(e.regDate,"YYYY.MM.DD")))])])}),t._v(" "),0==t.articleList.length?i("li",{staticStyle:{padding:"50px","line-height":"2em","font-size":"1.2em"}},[t._v("게시글이 존재하지 않습니다. "),i("br"),t._v("아직 크롤링 중일 수 있습니다. "),i("br"),t._v("새로고침 해 보세요.")]):t._e()],2),t._v(" "),i("div",{staticClass:"paginationWrap"},[i("paginate",{attrs:{"page-count":t.pageable.totalPage,"page-range":5,"margin-pages":1,"click-handler":t.pageMove,"hide-prev-next":!0,"prev-text":"이전","break-view-text":"...","next-text":"다음","container-class":"pagination","page-link-class":"pageLink","page-class":"pageItem"},model:{value:t.pageable.pageNumber,callback:function(e){t.$set(t.pageable,"pageNumber",e)},expression:"pageable.pageNumber"}})],1),t._v(" "),t.articleDetailView?i("article",t._b({attrs:{id:"articleDetail"}},"article",t.article,!1),[i("p",{staticStyle:{"font-size":"18px"}},[t._v("\n        [ "),i("span",{staticClass:"gameName"},[t._v(t._s(t.article.gameName))]),t._v(" ] "),i("span",{staticClass:"title"},[t._v(t._s(t.article.title))])]),t._v(" "),i("p",[i("span",{staticClass:"writer"},[t._v(t._s(t.article.writer))])]),t._v(" "),i("p",{staticClass:"regDate"},[t._v(t._s(t._f("moment")(t.article.regDate,"YYYY.MM.DD")))]),t._v(" "),i("div",{staticClass:"content",domProps:{innerHTML:t._s(t.article.content)}}),t._v(" "),i("p",{staticClass:"sub"},[t._v("\n        댓글 : "),i("span",[t._v(t._s(t.article.commentCnt))]),t._v(" | 좋아요 : "),i("span",[t._v(t._s(t.article.likeCnt))]),t._v(" | 싫어요 : "),i("span",[t._v(t._s(t.article.unlikeCnt))]),t._v(" | 조회수 : "),i("span",[t._v(t._s(t.article.viewCnt))])])]):t._e(),t._v(" "),t.articleDetailView?i("button",{attrs:{type:"button"},on:{click:t.closeDetail}},[t._v("상세보기 팝업 닫기")]):t._e()])],1)},staticRenderFns:[]};var N=i("VU/8")(x,$,!1,function(t){i("9Wmi")},"data-v-8cf20c5c",null).exports,C={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hello"},[i("h1",[t._v(t._s(t.msg))]),t._v(" "),i("h2",[t._v(t._s(this.$store.state.count))]),t._v(" "),i("h2",[i("button",{attrs:{type:"button"},on:{click:function(e){return t.$store.commit("increment")}}},[t._v("공유증가")])])])},staticRenderFns:[]};var L=i("VU/8")({name:"Item",data:function(){return{msg:"Thie route component is ITEM"}}},C,!1,function(t){i("7p7Q")},"data-v-41f72f8e",null).exports;n.a.use(s.a);var R=new s.a({routes:[{path:"/",name:"Login",component:l},{path:"/signin",name:"Signin",component:d},{path:"/newpwd",name:"Newpwd",component:g},{path:"/findpwd",name:"Fndpwd",component:_},{path:"/list",name:"List",component:N},{path:"/item",name:"Item",component:L}],mode:"history"}),y=i("NYxO");n.a.use(y.a);var A=new y.a.Store({state:{token:""},mutations:{loginAfter:function(t,e){t.token=e},logout:function(t){t.token=""}}}),U=i("mtWM"),E=i.n(U),D=i("Rf8U"),I=i.n(D),P=i("8AgW"),V=i.n(P);n.a.use(V.a),n.a.use(I.a,E.a),n.a.config.productionTip=!1,n.a.prototype.$axios=E.a,n.a.mixin({methods:{navigate:function(t){this.$router.push(t)},logOut:function(){this.deleteCookie("crawler-access-key"),this.$store.commit("logout"),this.navigate("/")},deleteCookie:function(t){document.cookie=t+"=; expires=Thu, 01 Jan 1999 00:00:10 GMT;"},deleteUser:function(){var t=this;if(confirm("진심으로 탈퇴하시겠습니까? 복구는 이루어지지 않습니다.")){this.$axios.delete("/api/users",{headers:{Authorization:"Bearer "+this.$store.state.token}}).then(function(e){var i=e.data;if("0000"!=i.code)return"0104"==i.code||"0200"==i.code?alert("인증 정보 오류."):alert("오류");alert("탈퇴하셨습니다. 그동안 감사했습니다. 수고하세요."),t.logOut()}).catch(function(t){if(console.log(t.response),400==t.response.status)return alert("오류")})}}}}),new n.a({el:"#app",router:R,components:{App:r},template:"<App/>",store:A,created:function(){var t=this.getCookie("crawler-access-key");null!=t&&this.$store.commit("loginAfter",t)},methods:{getCookie:function(t){var e=document.cookie.match("(^|;) ?"+t+"=([^;]*)(;|$)");return e?e[2]:null}}})},i9iw:function(t,e){},uuzt:function(t,e){},yDzC:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.ccf1d56b0eacd6443805.js.map