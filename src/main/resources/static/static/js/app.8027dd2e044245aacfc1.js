webpackJsonp([1],{"7p7Q":function(t,e){},"8ad6":function(t,e){},Fka5:function(t,e){},IEhL:function(t,e){},JNdT:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("section",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var r=n("VU/8")({name:"App"},a,!1,function(t){n("8ad6")},null,null).exports,s=n("/ocq"),o={name:"Login",data:function(){return{user:{id:"",pwd:""}}},methods:{login:function(){var t=this;this.$axios.post("/api/users/login",this.user).then(function(e){var n=e.data;if("0000"!=n.code)return"0100"==n.code?alert("아이디 또는 비밀번호가 일치하지 않습니다."):alert("오류");t.$store.commit("loginAfter",n.data.token),t.navigate("/list")}).catch(function(t){if(console.log(t.response),400==t.response.status)return alert("아이디와 패스워드 형식이 맞지 않습니다. \n'이메일형식 8~30자'")})}}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{attrs:{id:"login"}},[n("section",{attrs:{id:"loginWrap"}},[n("h2",[t._v("LINE SQUARE")]),t._v(" "),n("div",[n("p",[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.user.id,expression:"user.id",modifiers:{trim:!0}}],attrs:{placeholder:"이메일",maxlength:"30",id:"id",type:"text"},domProps:{value:t.user.id},on:{input:function(e){e.target.composing||t.$set(t.user,"id",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),n("p",[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.user.pwd,expression:"user.pwd",modifiers:{trim:!0}}],attrs:{placeholder:"비밀번호",maxlength:"30",id:"pwd",type:"password"},domProps:{value:t.user.pwd},on:{input:function(e){e.target.composing||t.$set(t.user,"pwd",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),n("button",{attrs:{type:"button"},on:{click:t.login}},[t._v("로그인")]),t._v(" "),n("div",{staticClass:"otherAction"},[n("span",{on:{click:function(e){return t.navigate("/signin")}}},[t._v("회원가입")]),t._v(" "),n("span",{on:{click:function(e){return t.navigate("/findpwd")}}},[t._v("비밀번호 찾기")])])])])])},staticRenderFns:[]};var l=n("VU/8")(o,c,!1,function(t){n("JNdT")},"data-v-49868b70",null).exports,u={name:"Signin",data:function(){return{user:{id:"",pwd:"",pwdRe:""},userReset:{id:"",pwd:"",pwdRe:""}}},methods:{signin:function(){var t=this;if(this.user.pwd!==this.user.pwdRe)return alert("비밀번호 확인이 일치하지 않습니다.");this.$axios.post("/api/users/signin",this.user).then(function(e){var n=e.data;if("0000"!=n.code)return"0103"==n.code?(t.user=t.userReset,alert("아이디 또는 비밀번호 값 오류")):"0101"==n.code?(t.user=t.userReset,alert("이미 가입된 아이디입니다.")):alert("오류");alert("이제 서비스를 이용할 수 있습니다."),t.navigate("/")}).catch(function(t){if(console.log(t.response),400==t.response.status)return alert("아이디와 패스워드 형식이 맞지 않습니다. \n'이메일형식 8~30자'")})}}},d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{attrs:{id:"login"}},[n("section",{attrs:{id:"loginWrap"}},[n("h2",[t._v("LINE SQUARE")]),t._v(" "),n("div",[n("p",[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.user.id,expression:"user.id",modifiers:{trim:!0}}],attrs:{placeholder:"이메일 (8자 이상)",maxlength:"30",id:"id",type:"text"},domProps:{value:t.user.id},on:{input:function(e){e.target.composing||t.$set(t.user,"id",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),n("p",[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.user.pwd,expression:"user.pwd",modifiers:{trim:!0}}],attrs:{placeholder:"비밀번호 (8자 이상)",maxlength:"30",id:"pwd",type:"password"},domProps:{value:t.user.pwd},on:{input:function(e){e.target.composing||t.$set(t.user,"pwd",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),n("p",[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.user.pwdRe,expression:"user.pwdRe",modifiers:{trim:!0}}],attrs:{placeholder:"비밀번호 재확인 (8자 이상)",maxlength:"30",id:"pwdRe",type:"password"},domProps:{value:t.user.pwdRe},on:{input:function(e){e.target.composing||t.$set(t.user,"pwdRe",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),n("button",{attrs:{type:"button"},on:{click:t.signin}},[t._v("회원 가입")]),t._v(" "),n("div",{staticClass:"otherAction"},[n("span",{on:{click:function(e){return t.navigate("/")}}},[t._v("취소")])])])])])},staticRenderFns:[]};var p=n("VU/8")(u,d,!1,function(t){n("yDzC")},"data-v-6d9d24fd",null).exports,m={name:"pwdNew",data:function(){return{user:{pwd:"",pwdNew:"",pwdRe:""},userReset:{pwd:"",pwdNew:"",pwdRe:""}}},methods:{update:function(){var t=this;if(this.user.pwdNew!==this.user.pwdRe)return alert("비밀번호 확인이 일치하지 않습니다.");this.$axios.put("/api/users",this.user,{headers:{Authorization:"Bearer "+this.$store.state.token}}).then(function(e){var n=e.data;if("0000"!=n.code)return"0102"==n.code?(t.user=t.userReset,alert("기존 패스워드가 일치하지 않습니다.")):(t.user=t.userReset,alert("오류"));alert("비밀번호가 수정되었습니다."),t.navigate("/")}).catch(function(t){if(console.log(t.response),400==t.response.status)return alert("아이디와 패스워드 형식이 맞지 않습니다. \n'이메일형식 8~30자'")})}}},v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{attrs:{id:"login"}},[n("section",{attrs:{id:"loginWrap"}},[n("h2",[t._v("LINE SQUARE")]),t._v(" "),n("div",[n("p",[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.user.pwd,expression:"user.pwd",modifiers:{trim:!0}}],attrs:{placeholder:"현재 비밀번호 (8자 이상)",maxlength:"30",id:"pwd",type:"password"},domProps:{value:t.user.pwd},on:{input:function(e){e.target.composing||t.$set(t.user,"pwd",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),n("p",[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.user.pwdNew,expression:"user.pwdNew",modifiers:{trim:!0}}],attrs:{placeholder:"새로운 비밀번호 (8자 이상)",maxlength:"30",id:"pwdNew",type:"password"},domProps:{value:t.user.pwdNew},on:{input:function(e){e.target.composing||t.$set(t.user,"pwdNew",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),n("p",[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.user.pwdRe,expression:"user.pwdRe",modifiers:{trim:!0}}],attrs:{placeholder:"새로운 비밀번호 재입력 (8자 이상)",maxlength:"30",id:"pwdRe",type:"password"},domProps:{value:t.user.pwdRe},on:{input:function(e){e.target.composing||t.$set(t.user,"pwdRe",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),n("button",{attrs:{type:"button"},on:{click:t.update}},[t._v("비밀번호 변경")]),t._v(" "),n("div",{staticClass:"otherAction"},[n("span",{on:{click:function(e){return t.navigate("/list")}}},[t._v("취소")])])])])])},staticRenderFns:[]};var g=n("VU/8")(m,v,!1,function(t){n("IEhL")},"data-v-dbfa2010",null).exports,f={name:"Fndpwd",data:function(){return{waiting:!1,user:{id:""}}},methods:{findPwd:function(){var t=this;if(""==this.user.id||void 0==this.user.id)return alert("메일을 입력하세요.");t.waiting=!0,this.$axios.post("/api/users/send-temp-pwd",this.user).then(function(e){t.waiting=!1;var n=e.data;return"0000"==n.code?alert("메일이 발송되었습니다. 메일함을 확인해 주세요."):"0104"==n.code?alert("없는 유저입니다."):alert("오류")}).catch(function(e){if(t.waiting=!1,400==e.response.status)return alert("아이디와 패스워드 형식이 맞지 않습니다. \n'이메일형식 8~30자'")})}}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{attrs:{id:"login"}},[n("section",{attrs:{id:"loginWrap"}},[n("h2",[t._v("LINE SQUARE")]),t._v(" "),n("div",[n("p",[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.user.id,expression:"user.id",modifiers:{trim:!0}}],attrs:{placeholder:"가입했던 이메일을 입력하세요",maxlength:"30",id:"id",type:"text"},domProps:{value:t.user.id},on:{input:function(e){e.target.composing||t.$set(t.user,"id",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),t.waiting?n("button",{staticClass:"disable",attrs:{type:"button"}},[t._v("메일을 보내는 중...")]):n("button",{attrs:{type:"button"},on:{click:t.findPwd}},[t._v("임시 비밀번호 보내기")]),t._v(" "),n("div",{staticClass:"otherAction"},[n("span",{on:{click:function(e){return t.navigate("/")}}},[t._v("취소")])])])])])},staticRenderFns:[]};var _=n("VU/8")(f,h,!1,function(t){n("uuzt")},"data-v-775e4e40",null).exports,w={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",[e("h1",{attrs:{title:"logo"}},[this._v("LINE SQUARE COMMUNITY")])])}]};var b=n("VU/8")({name:"main-header"},w,!1,function(t){n("i9iw")},"data-v-409061ed",null).exports,k=n("kBYy"),C=n.n(k),x={name:"Comment",props:["article"],mounted:function(){this.childArticle=this.article,this.getComments(1)},methods:{getComments:function(t){var e=this;this.$axios.get("/api/comments",{params:{articleId:e.article.articleId,gameName:e.article.gameName,page:e.commentPagination},headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.$store.state.token}}).then(function(t){e.updateLock=!1;var n=t.data;"0000"==n.code?(console.log("댓글 가져오기 성공"),1==e.commentPagination?e.childCommentList=n.list:e.childCommentList.push(n.list),console.log(n)):(alert("권한이 없습니다."),e.navigate("/"))}).catch(function(t){return console.log(t),alert("오류")})}},data:function(){return{childArticle:{},childCommentList:[],commentPagination:1}}},$={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment"},[n("ul",[null!=t.childCommentList?t._l(t.childCommentList,function(e,i){return n("li",{staticClass:"reply"},[n("strong",[t._v(t._s(e.writerId))]),t._v(" "),n("span",[t._v(t._s(e.content))])])}):t._e(),t._v(" "),0==t.childCommentList.length||null==t.childCommentList?[n("li",{staticClass:"noReply"},[t._v("댓글이 없습니다.")])]:t._e()],2)])},staticRenderFns:[]};var L=n("VU/8")(x,$,!1,function(t){n("gCw2")},"data-v-29496738",null).exports,N={name:"List",mounted:function(){console.log("로그인 권한 체크를 해야한다"),this.getArticleList()},components:{"main-header":b,paginate:C.a,comment:L},data:function(){return{articleDetailView:!1,article:{idx:0,articleId:"",bbsGroupId:"",bbsId:"",commentCnt:0,content:"",gameName:"",likeCnt:0,regDate:"",title:"",unlikeCnt:0,viewCnt:0,writer:""},articleInit:{idx:0,articleId:"",bbsGroupId:"",bbsId:"",commentCnt:0,content:"",gameName:"",likeCnt:0,regDate:"",title:"",unlikeCnt:0,viewCnt:0,writer:""},articleList:[],pageable:{offset:0,pageNumber:0,pageSize:10,paged:!0,sort:"",totalCnt:0,totalPage:0},crawlLock:!1,updateLock:!1}},methods:{viewDetail:function(t){window.scrollTo(0,0),this.articleDetailView=!0,this.article=this.articleList[t]},closeDetail:function(){this.articleDetailView=!1,this.article=this.articleInit},pageMove:function(t){this.getArticleList(t)},getNewArticles:function(){var t=this;t.crawlLock=!0,this.$axios.post("/api/articles/crawl",{},{headers:{Authorization:"Bearer "+t.$store.state.token}}).then(function(e){if(t.crawlLock=!1,"0000"==e.data.code)return console.log("새 게시글 크롤링 성공"),t.getArticleList(),alert("새 게시글을 크롤링하는데 성공하였습니다.");alert("권한이 없습니다."),t.navigate("/")}).catch(function(e){return console.log(e),t.crawlLock=!1,alert("오류")})},updateArticles:function(){var t=this;t.updateLock=!0;var e=[];t.articleList.forEach(function(t){e.push(t.articleId)}),this.$axios.post("/api/articles/update",{articleIds:e},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.$store.state.token}}).then(function(e){t.updateLock=!1;var n=e.data;if("0000"==n.code)return console.log("업데이트 성공"),t.articleList=n.list,alert("보이는 목록만 새로 크롤링하여 업데이트 하였습니다.");alert("권한이 없습니다."),t.navigate("/")}).catch(function(e){return console.log(e),t.updateLock=!1,alert("오류")})},getArticleList:function(t){var e="/api/articles";void 0!=t&&(e+="?page="+t);var n=this;this.$axios.get(e,{headers:{Authorization:"Bearer "+n.$store.state.token}}).then(function(t){var e=t.data;if("0000"==e.code){console.log("조회 성공"),n.articleList=e.pagingList.content;var i=e.pagingList.pageable;i.pageNumber=i.pageNumber+1,i.totalCnt=e.pagingList.totalElements,i.totalPage=e.pagingList.totalPages,n.pageable=i}else alert("권한이 없습니다."),n.navigate("/")})}}},R={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{attrs:{id:"article"}},[n("main-header"),t._v(" "),n("nav",[t.crawlLock?t._e():n("p",[n("button",{attrs:{type:"button",title:"신규 게시글을 수동으로 크롤링 하여 가져옵니다."},on:{click:t.getNewArticles}},[t._v("새글가져오기")])]),t._v(" "),t.crawlLock?n("p",[n("button",{staticClass:"disable",attrs:{type:"button"}},[t._v("가져오는 중..")])]):t._e(),t._v(" "),t.updateLock?t._e():n("p",[n("button",{attrs:{type:"button",title:"화면에 표시된 게시글 목록을 크롤링 하여 업데이트 합니다."},on:{click:t.updateArticles}},[t._v("목록업데이트")])]),t._v(" "),t.updateLock?n("p",[n("button",{staticClass:"disable",attrs:{type:"button"}},[t._v("업데이트 중..")])]):t._e(),t._v(" "),n("p",[n("button",{attrs:{type:"button",title:"비밀번호변경"},on:{click:function(e){return t.navigate("/newpwd")}}},[t._v("비밀번호변경")])]),t._v(" "),n("p",[n("button",{attrs:{type:"button",title:"로그아웃"},on:{click:t.logOut}},[t._v("로그아웃")])]),t._v(" "),n("p",[n("button",{attrs:{type:"button",title:"탈퇴하기"},on:{click:t.deleteUser}},[t._v("탈퇴하기")])])]),t._v(" "),n("section",{attrs:{id:"articleList"}},[t.articleDetailView?t._e():n("ul",[t._l(t.articleList,function(e,i){return n("li",{staticClass:"article",on:{click:function(e){return t.viewDetail(i)}}},[n("p",[t._v("\n          [ "),n("span",{staticClass:"gameName"},[t._v(t._s(e.gameName))]),t._v(" ] "),n("span",{staticClass:"title"},[t._v(t._s(e.title))])]),t._v(" "),n("p",[n("span",{staticClass:"writer"},[t._v(t._s(e.writer))])]),t._v(" "),n("p",{staticClass:"regDate"},[t._v(t._s(t._f("moment")(e.regDate,"YYYY.MM.DD")))])])}),t._v(" "),0==t.articleList.length?n("li",{staticStyle:{padding:"50px","line-height":"2em","font-size":"1.2em"}},[t._v("게시글이 존재하지 않습니다. "),n("br"),t._v("아직 크롤링 중일 수 있습니다. "),n("br"),t._v("새로고침 해 보세요.")]):t._e()],2),t._v(" "),n("div",{staticClass:"paginationWrap"},[n("paginate",{attrs:{"page-count":t.pageable.totalPage,"page-range":5,"margin-pages":1,"click-handler":t.pageMove,"hide-prev-next":!0,"prev-text":"이전","break-view-text":"...","next-text":"다음","container-class":"pagination","page-link-class":"pageLink","page-class":"pageItem"},model:{value:t.pageable.pageNumber,callback:function(e){t.$set(t.pageable,"pageNumber",e)},expression:"pageable.pageNumber"}})],1),t._v(" "),t.articleDetailView?n("article",t._b({attrs:{id:"articleDetail"}},"article",t.article,!1),[n("p",{staticStyle:{"font-size":"18px"}},[t._v("\n        [ "),n("span",{staticClass:"gameName"},[t._v(t._s(t.article.gameName))]),t._v(" ] "),n("span",{staticClass:"title"},[t._v(t._s(t.article.title))])]),t._v(" "),n("p",[n("span",{staticClass:"writer"},[t._v(t._s(t.article.writer))])]),t._v(" "),n("p",{staticClass:"regDate"},[t._v(t._s(t._f("moment")(t.article.regDate,"YYYY.MM.DD")))]),t._v(" "),n("div",{staticClass:"content",domProps:{innerHTML:t._s(t.article.content)}}),t._v(" "),n("p",{staticClass:"sub"},[t._v("\n        댓글 : "),n("span",[t._v(t._s(t.article.commentCnt))]),t._v(" | 좋아요 : "),n("span",[t._v(t._s(t.article.likeCnt))]),t._v(" | 싫어요 : "),n("span",[t._v(t._s(t.article.unlikeCnt))]),t._v(" | 조회수 : "),n("span",[t._v(t._s(t.article.viewCnt))])]),t._v(" "),n("div",[n("comment",{attrs:{article:t.article}})],1)]):t._e(),t._v(" "),t.articleDetailView?n("button",{attrs:{type:"button"},on:{click:t.closeDetail}},[t._v("상세보기 팝업 닫기")]):t._e()])],1)},staticRenderFns:[]};var y=n("VU/8")(N,R,!1,function(t){n("Fka5")},"data-v-509ab5e0",null).exports,A={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[n("h1",[t._v(t._s(t.msg))]),t._v(" "),n("h2",[t._v(t._s(this.$store.state.count))]),t._v(" "),n("h2",[n("button",{attrs:{type:"button"},on:{click:function(e){return t.$store.commit("increment")}}},[t._v("공유증가")])])])},staticRenderFns:[]};var U=n("VU/8")({name:"Item",data:function(){return{msg:"Thie route component is ITEM"}}},A,!1,function(t){n("7p7Q")},"data-v-41f72f8e",null).exports;i.a.use(s.a);var E=new s.a({routes:[{path:"/",name:"Login",component:l},{path:"/signin",name:"Signin",component:p},{path:"/newpwd",name:"Newpwd",component:g},{path:"/findpwd",name:"Fndpwd",component:_},{path:"/list",name:"List",component:y},{path:"/item",name:"Item",component:U}],mode:"history"}),I=n("NYxO");i.a.use(I.a);var D=new I.a.Store({state:{token:""},mutations:{loginAfter:function(t,e){t.token=e},logout:function(t){t.token=""}}}),P=n("mtWM"),V=n.n(P),z=n("Rf8U"),F=n.n(z),M=n("8AgW"),T=n.n(M);i.a.use(T.a),i.a.use(F.a,V.a),i.a.config.productionTip=!1,i.a.prototype.$axios=V.a,i.a.mixin({methods:{navigate:function(t){this.$router.push(t)},logOut:function(){this.deleteCookie("crawler-access-key"),this.$store.commit("logout"),this.navigate("/")},deleteCookie:function(t){document.cookie=t+"=; expires=Thu, 01 Jan 1999 00:00:10 GMT;"},deleteUser:function(){var t=this;if(confirm("진심으로 탈퇴하시겠습니까? 복구는 이루어지지 않습니다.")){this.$axios.delete("/api/users",{headers:{Authorization:"Bearer "+this.$store.state.token}}).then(function(e){var n=e.data;if("0000"!=n.code)return"0104"==n.code||"0200"==n.code?alert("인증 정보 오류."):alert("오류");alert("탈퇴하셨습니다. 그동안 감사했습니다. 수고하세요."),t.logOut()}).catch(function(t){if(console.log(t.response),400==t.response.status)return alert("오류")})}}}}),new i.a({el:"#app",router:E,components:{App:r},template:"<App/>",store:D,created:function(){var t=this.getCookie("crawler-access-key");null!=t&&this.$store.commit("loginAfter",t)},methods:{getCookie:function(t){var e=document.cookie.match("(^|;) ?"+t+"=([^;]*)(;|$)");return e?e[2]:null}}})},gCw2:function(t,e){},i9iw:function(t,e){},uuzt:function(t,e){},yDzC:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.8027dd2e044245aacfc1.js.map